# Recursion – Pattern Wise

## Problem: Combination Sum – III

### Approach
Choose **k distinct numbers** from **1 to 9** whose sum equals **n** using backtracking.
- Always pick numbers in **increasing order** to avoid duplicates.
- Stop recursion when:
  - sum < 0
  - size exceeds k

---

### Code
```cpp
class Solution {
private:
    void func(int sum, int last, vector<int>& nums, int k, vector<vector<int>>& ans) {
        if (sum == 0 && nums.size() == k) {
            ans.push_back(nums);
            return;
        }

        if (sum <= 0 || nums.size() > k) return;

        for (int i = last; i <= 9; i++) {
            if (i <= sum) {
                nums.push_back(i);
                func(sum - i, i + 1, nums, k, ans);
                nums.pop_back();
            } else break;
        }
    }

public:
    vector<vector<int>> combinationSum3(int k, int n) {
        vector<vector<int>> ans;
        vector<int> nums;
        func(n, 1, nums, k, ans);
        return ans;
    }
};
```

---

### Dry Run Example
**Input:** `k = 3, n = 7`
```
start: sum=7, nums=[]
choose 1 → sum=6, nums=[1]
    choose 2 → sum=4, nums=[1,2]
        choose 3 → sum=1, nums=[1,2,3]
            choose 4 → exceeds sum → stop
        backtrack
    choose 3 → sum=3, nums=[1,3]
        choose 4 → sum=-1 → stop
backtrack
choose 2 → sum=5, nums=[2]
    choose 3 → sum=2, nums=[2,3]
        choose 4 → sum=-2 → stop
```
**Output:** `[[1,2,4]]`

---

### Time & Space Complexity
- **TC:** `O(2^9 * k)`
- **SC:** `O(k)`

---

---

## Problem: Letter Combinations of a Phone Number

### Approach
Use DFS/backtracking to generate all possible character combinations for the input keypad digits.

- Each digit (2–9) maps to multiple letters.
- Build the result by picking 1 letter per digit.

---

### Code
```cpp
class Solution {
void func(int ind, string digits, string s, vector<string>& ans, string combos[]) {
    if (ind == digits.size()) {
        ans.push_back(s);
        return;
    }

    int digit = digits[ind] - '0';

    for (int i = 0; i < combos[digit].size(); i++) {
        func(ind + 1, digits, s + combos[digit][i], ans, combos);
    }
}

public:
    vector<string> letterCombinations(string digits) {
        string combos[] = {"", "", "abc", "def", "ghi", "jkl", "mno", "pqrs", "tuv", "wxyz"};

        vector<string> ans;
        if (digits == "") return ans;

        func(0, digits, "", ans, combos);

        return ans;
    }
};
```

---

### Dry Run Example
**Input:** `digits = "23"`

**Mapping:**
```
2 → a b c
3 → d e f
```

**Combinations:**
```
ad, ae, af
bd, be, bf
cd, ce, cf
```
**Output:** `["ad","ae","af","bd","be","bf","cd","ce","cf"]`

---

### Time & Space Complexity
- **TC:** `O(4^N * N)`
- **SC:** `O(N)`